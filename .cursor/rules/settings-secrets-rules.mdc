---
description: 設定ファイルの参照方法
globs: /config/settings.ini,/config/secrets.env
alwaysApply: false
---
# Rule: Use EnvironmentUtils class for accessing configuration files
pattern: "**/*.py"
description: "設定ファイル(config/secrets.env, config/settings.ini)はutils.environment.EnvironmentUtilsクラスを使用してアクセスしてください。直接の読み込みは禁止されています。"

1. settings.ini: env.get_config_value('section', 'key', 'default') で呼び出し
2. secrets.env: env.load_env() で読み込み、env.get_env_var('KEY') で取得

forbidden:
  - "open\\(['\\\"]config/secrets.env['\\\"]\\)"
  - "open\\(['\\\"]config/settings.ini['\\\"]\\)"
  - "ConfigParser\\(\\).*?\\.read\\(['\\\"]config/settings.ini['\\\"]\\)"
  - "load_dotenv\\(['\\\"]config/secrets.env['\\\"]\\)"

required:
  - "utils\\.environment\\.EnvironmentUtils\\."

include: "@file:general.cursor"